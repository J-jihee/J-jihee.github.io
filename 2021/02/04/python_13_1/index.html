<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Jihee&#39;s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="123456789import pandas as pdimport numpy as npimport matplotlib.font_manager as fmimport matplotlib.pyplot as pltfont_path &#x3D; &amp;#x27;C:&#x2F;Windows&#x2F;Fonts&#x2F;NGULIM.TTF&amp;#x27;fontprop &#x3D; fm.FontProperties(fname&#x3D;f">
<meta property="og:type" content="article">
<meta property="og:title" content="Jihee&#39;s blog">
<meta property="og:url" content="https://j-jihee.github.io/2021/02/04/python_13_1/index.html">
<meta property="og:site_name" content="Jihee&#39;s blog">
<meta property="og:description" content="123456789import pandas as pdimport numpy as npimport matplotlib.font_manager as fmimport matplotlib.pyplot as pltfont_path &#x3D; &amp;#x27;C:&#x2F;Windows&#x2F;Fonts&#x2F;NGULIM.TTF&amp;#x27;fontprop &#x3D; fm.FontProperties(fname&#x3D;f">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://j-jihee.github.io/img/output_4_1.svg">
<meta property="og:image" content="https://j-jihee.github.io/img/output_14_1.svg">
<meta property="og:image" content="https://j-jihee.github.io/img/output_15_2.svg">
<meta property="og:image" content="https://j-jihee.github.io/img/output_19_2.svg">
<meta property="og:image" content="https://j-jihee.github.io/img/output_24_1.svg">
<meta property="og:image" content="https://j-jihee.github.io/img/output_26_2.svg">
<meta property="og:image" content="https://j-jihee.github.io/img/output_31_2.svg">
<meta property="article:published_time" content="2021-02-04T02:53:28.610Z">
<meta property="article:modified_time" content="2021-02-04T02:57:10.406Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://j-jihee.github.io/img/output_4_1.svg">
  
    <link rel="alternate" href="/atom.xml" title="Jihee's blog" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Jihee&#39;s blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://J-jihee.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-python_13_1" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/02/04/python_13_1/" class="article-date">
  <time class="dt-published" datetime="2021-02-04T02:53:28.610Z" itemprop="datePublished">2021-02-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.font_manager <span class="keyword">as</span> fm</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">font_path = <span class="string">&#x27;C:/Windows/Fonts/NGULIM.TTF&#x27;</span></span><br><span class="line">fontprop = fm.FontProperties(fname=font_path, size=<span class="number">15</span>)</span><br><span class="line">font_family = fm.FontProperties(fname=font_path).get_name()</span><br><span class="line"></span><br><span class="line">plt.rcParams[<span class="string">&quot;font.family&quot;</span>] = font_family</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">name_2008 = pd.read_csv(<span class="string">&#x27;Kbaby_data/y2008.txt&#x27;</span>,names=[<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;gender&#x27;</span>,<span class="string">&#x27;births&#x27;</span>])</span><br><span class="line">name_2008</span><br></pre></td></tr></table></figure>



<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>gender</th>
      <th>births</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>서연</td>
      <td>F</td>
      <td>3280</td>
    </tr>
    <tr>
      <th>1</th>
      <td>민서</td>
      <td>F</td>
      <td>2873</td>
    </tr>
    <tr>
      <th>2</th>
      <td>지민</td>
      <td>F</td>
      <td>2826</td>
    </tr>
    <tr>
      <th>3</th>
      <td>서현</td>
      <td>F</td>
      <td>2606</td>
    </tr>
    <tr>
      <th>4</th>
      <td>서윤</td>
      <td>F</td>
      <td>2484</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>995</th>
      <td>은율</td>
      <td>M</td>
      <td>91</td>
    </tr>
    <tr>
      <th>996</th>
      <td>재연</td>
      <td>M</td>
      <td>91</td>
    </tr>
    <tr>
      <th>997</th>
      <td>건민</td>
      <td>M</td>
      <td>91</td>
    </tr>
    <tr>
      <th>998</th>
      <td>민상</td>
      <td>M</td>
      <td>90</td>
    </tr>
    <tr>
      <th>999</th>
      <td>태진</td>
      <td>M</td>
      <td>90</td>
    </tr>
  </tbody>
</table>
<p>1000 rows × 3 columns</p>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name_2008.groupby(<span class="string">&#x27;gender&#x27;</span>).births.<span class="built_in">sum</span>()</span><br></pre></td></tr></table></figure>



<pre><code>gender
F    191282
M    169063
Name: births, dtype: int64
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">years = <span class="built_in">range</span>(<span class="number">2008</span>,<span class="number">2021</span>)</span><br><span class="line">pieces = [] <span class="comment">#전체 연도의 리스트를 합칠 것</span></span><br><span class="line">columns = [<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;gender&#x27;</span>,<span class="string">&#x27;births&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> year <span class="keyword">in</span> years:</span><br><span class="line">    path = <span class="string">&#x27;Kbaby_data/y&#123;&#125;.txt&#x27;</span>.<span class="built_in">format</span>(year)</span><br><span class="line">    frame = pd.read_csv(path,names=columns)</span><br><span class="line">    frame[<span class="string">&#x27;year&#x27;</span>]=year</span><br><span class="line">    pieces.append(frame)</span><br><span class="line"></span><br><span class="line">names = pd.concat(pieces,ignore_index=<span class="literal">True</span>)</span><br><span class="line">names</span><br></pre></td></tr></table></figure>



<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>gender</th>
      <th>births</th>
      <th>year</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>서연</td>
      <td>F</td>
      <td>3280</td>
      <td>2008</td>
    </tr>
    <tr>
      <th>1</th>
      <td>민서</td>
      <td>F</td>
      <td>2873</td>
      <td>2008</td>
    </tr>
    <tr>
      <th>2</th>
      <td>지민</td>
      <td>F</td>
      <td>2826</td>
      <td>2008</td>
    </tr>
    <tr>
      <th>3</th>
      <td>서현</td>
      <td>F</td>
      <td>2606</td>
      <td>2008</td>
    </tr>
    <tr>
      <th>4</th>
      <td>서윤</td>
      <td>F</td>
      <td>2484</td>
      <td>2008</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>12995</th>
      <td>민승</td>
      <td>M</td>
      <td>20</td>
      <td>2020</td>
    </tr>
    <tr>
      <th>12996</th>
      <td>규담</td>
      <td>M</td>
      <td>20</td>
      <td>2020</td>
    </tr>
    <tr>
      <th>12997</th>
      <td>영웅</td>
      <td>M</td>
      <td>20</td>
      <td>2020</td>
    </tr>
    <tr>
      <th>12998</th>
      <td>재성</td>
      <td>M</td>
      <td>20</td>
      <td>2020</td>
    </tr>
    <tr>
      <th>12999</th>
      <td>주빈</td>
      <td>M</td>
      <td>20</td>
      <td>2020</td>
    </tr>
  </tbody>
</table>
<p>13000 rows × 4 columns</p>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">total_births = names.pivot_table(<span class="string">&#x27;births&#x27;</span>, index=<span class="string">&#x27;year&#x27;</span>,columns=<span class="string">&#x27;gender&#x27;</span>,aggfunc=<span class="built_in">sum</span>)</span><br><span class="line">total_births.plot(title=<span class="string">&#x27;total births(gender/year)&#x27;</span>)</span><br></pre></td></tr></table></figure>



<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x2c52816afd0&gt;
</code></pre>
<p><img src="/img/output_4_1.svg" alt="svg"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_prop</span>(<span class="params">group</span>):</span></span><br><span class="line">    group[<span class="string">&#x27;prop&#x27;</span>] = group.births / group.births.<span class="built_in">sum</span>()</span><br><span class="line">    <span class="keyword">return</span> group</span><br><span class="line">names = names.groupby([<span class="string">&#x27;year&#x27;</span>,<span class="string">&#x27;gender&#x27;</span>]).apply(add_prop)</span><br><span class="line">names</span><br></pre></td></tr></table></figure>



<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>gender</th>
      <th>births</th>
      <th>year</th>
      <th>prop</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>서연</td>
      <td>F</td>
      <td>3280</td>
      <td>2008</td>
      <td>0.017147</td>
    </tr>
    <tr>
      <th>1</th>
      <td>민서</td>
      <td>F</td>
      <td>2873</td>
      <td>2008</td>
      <td>0.015020</td>
    </tr>
    <tr>
      <th>2</th>
      <td>지민</td>
      <td>F</td>
      <td>2826</td>
      <td>2008</td>
      <td>0.014774</td>
    </tr>
    <tr>
      <th>3</th>
      <td>서현</td>
      <td>F</td>
      <td>2606</td>
      <td>2008</td>
      <td>0.013624</td>
    </tr>
    <tr>
      <th>4</th>
      <td>서윤</td>
      <td>F</td>
      <td>2484</td>
      <td>2008</td>
      <td>0.012986</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>12995</th>
      <td>민승</td>
      <td>M</td>
      <td>20</td>
      <td>2020</td>
      <td>0.000398</td>
    </tr>
    <tr>
      <th>12996</th>
      <td>규담</td>
      <td>M</td>
      <td>20</td>
      <td>2020</td>
      <td>0.000398</td>
    </tr>
    <tr>
      <th>12997</th>
      <td>영웅</td>
      <td>M</td>
      <td>20</td>
      <td>2020</td>
      <td>0.000398</td>
    </tr>
    <tr>
      <th>12998</th>
      <td>재성</td>
      <td>M</td>
      <td>20</td>
      <td>2020</td>
      <td>0.000398</td>
    </tr>
    <tr>
      <th>12999</th>
      <td>주빈</td>
      <td>M</td>
      <td>20</td>
      <td>2020</td>
      <td>0.000398</td>
    </tr>
  </tbody>
</table>
<p>13000 rows × 5 columns</p>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">names.groupby([<span class="string">&#x27;year&#x27;</span>,<span class="string">&#x27;gender&#x27;</span>]).prop.<span class="built_in">sum</span>()</span><br></pre></td></tr></table></figure>



<pre><code>year  gender
2008  F         1.0
      M         1.0
2009  F         1.0
      M         1.0
2010  F         1.0
      M         1.0
2011  F         1.0
      M         1.0
2012  F         1.0
      M         1.0
2013  F         1.0
      M         1.0
2014  F         1.0
      M         1.0
2015  F         1.0
      M         1.0
2016  F         1.0
      M         1.0
2017  F         1.0
      M         1.0
2018  F         1.0
      M         1.0
2019  F         1.0
      M         1.0
2020  F         1.0
      M         1.0
Name: prop, dtype: float64
</code></pre>
<h3 id="연도별-성별에-따른-선호하는-이름-1000개-추출"><a href="#연도별-성별에-따른-선호하는-이름-1000개-추출" class="headerlink" title="연도별/성별에 따른 선호하는 이름 1000개 추출"></a>연도별/성별에 따른 선호하는 이름 1000개 추출</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_top1000</span>(<span class="params">group</span>):</span></span><br><span class="line">    <span class="keyword">return</span> group.sort_values(by=<span class="string">&#x27;births&#x27;</span>,ascending=<span class="literal">False</span>)[:<span class="number">1000</span>]</span><br><span class="line">grouped = names.groupby([<span class="string">&#x27;year&#x27;</span>,<span class="string">&#x27;gender&#x27;</span>])</span><br><span class="line">top1000 = grouped.apply(get_top1000)</span><br><span class="line">top1000</span><br></pre></td></tr></table></figure>



<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th></th>
      <th>name</th>
      <th>gender</th>
      <th>births</th>
      <th>year</th>
      <th>prop</th>
    </tr>
    <tr>
      <th>year</th>
      <th>gender</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="5" valign="top">2008</th>
      <th rowspan="5" valign="top">F</th>
      <th>0</th>
      <td>서연</td>
      <td>F</td>
      <td>3280</td>
      <td>2008</td>
      <td>0.017147</td>
    </tr>
    <tr>
      <th>1</th>
      <td>민서</td>
      <td>F</td>
      <td>2873</td>
      <td>2008</td>
      <td>0.015020</td>
    </tr>
    <tr>
      <th>2</th>
      <td>지민</td>
      <td>F</td>
      <td>2826</td>
      <td>2008</td>
      <td>0.014774</td>
    </tr>
    <tr>
      <th>3</th>
      <td>서현</td>
      <td>F</td>
      <td>2606</td>
      <td>2008</td>
      <td>0.013624</td>
    </tr>
    <tr>
      <th>4</th>
      <td>서윤</td>
      <td>F</td>
      <td>2484</td>
      <td>2008</td>
      <td>0.012986</td>
    </tr>
    <tr>
      <th>...</th>
      <th>...</th>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th rowspan="5" valign="top">2020</th>
      <th rowspan="5" valign="top">M</th>
      <th>12991</th>
      <td>이재</td>
      <td>M</td>
      <td>20</td>
      <td>2020</td>
      <td>0.000398</td>
    </tr>
    <tr>
      <th>12989</th>
      <td>다민</td>
      <td>M</td>
      <td>20</td>
      <td>2020</td>
      <td>0.000398</td>
    </tr>
    <tr>
      <th>12988</th>
      <td>수인</td>
      <td>M</td>
      <td>20</td>
      <td>2020</td>
      <td>0.000398</td>
    </tr>
    <tr>
      <th>12987</th>
      <td>민영</td>
      <td>M</td>
      <td>20</td>
      <td>2020</td>
      <td>0.000398</td>
    </tr>
    <tr>
      <th>12999</th>
      <td>주빈</td>
      <td>M</td>
      <td>20</td>
      <td>2020</td>
      <td>0.000398</td>
    </tr>
  </tbody>
</table>
<p>13000 rows × 5 columns</p>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">top1000.reset_index(inplace = <span class="literal">True</span> , drop = <span class="literal">True</span>)</span><br><span class="line">top1000</span><br></pre></td></tr></table></figure>



<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>gender</th>
      <th>births</th>
      <th>year</th>
      <th>prop</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>서연</td>
      <td>F</td>
      <td>3280</td>
      <td>2008</td>
      <td>0.017147</td>
    </tr>
    <tr>
      <th>1</th>
      <td>민서</td>
      <td>F</td>
      <td>2873</td>
      <td>2008</td>
      <td>0.015020</td>
    </tr>
    <tr>
      <th>2</th>
      <td>지민</td>
      <td>F</td>
      <td>2826</td>
      <td>2008</td>
      <td>0.014774</td>
    </tr>
    <tr>
      <th>3</th>
      <td>서현</td>
      <td>F</td>
      <td>2606</td>
      <td>2008</td>
      <td>0.013624</td>
    </tr>
    <tr>
      <th>4</th>
      <td>서윤</td>
      <td>F</td>
      <td>2484</td>
      <td>2008</td>
      <td>0.012986</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>12995</th>
      <td>이재</td>
      <td>M</td>
      <td>20</td>
      <td>2020</td>
      <td>0.000398</td>
    </tr>
    <tr>
      <th>12996</th>
      <td>다민</td>
      <td>M</td>
      <td>20</td>
      <td>2020</td>
      <td>0.000398</td>
    </tr>
    <tr>
      <th>12997</th>
      <td>수인</td>
      <td>M</td>
      <td>20</td>
      <td>2020</td>
      <td>0.000398</td>
    </tr>
    <tr>
      <th>12998</th>
      <td>민영</td>
      <td>M</td>
      <td>20</td>
      <td>2020</td>
      <td>0.000398</td>
    </tr>
    <tr>
      <th>12999</th>
      <td>주빈</td>
      <td>M</td>
      <td>20</td>
      <td>2020</td>
      <td>0.000398</td>
    </tr>
  </tbody>
</table>
<p>13000 rows × 5 columns</p>
</div>



<h3 id="상위-1000개의-이름데이터를-남자-boys-와-여자-girls-로-분리"><a href="#상위-1000개의-이름데이터를-남자-boys-와-여자-girls-로-분리" class="headerlink" title="상위 1000개의 이름데이터를 남자(boys)와 여자(girls)로 분리"></a>상위 1000개의 이름데이터를 남자(boys)와 여자(girls)로 분리</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">boys = top1000[top1000.gender == <span class="string">&#x27;M&#x27;</span>]</span><br><span class="line">girls = top1000[top1000.gender == <span class="string">&#x27;F&#x27;</span>]</span><br></pre></td></tr></table></figure>
<h3 id="연도와-출생수를-피봇테이블로-변환"><a href="#연도와-출생수를-피봇테이블로-변환" class="headerlink" title="연도와 출생수를 피봇테이블로 변환"></a>연도와 출생수를 피봇테이블로 변환</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">total_births = top1000.pivot_table(<span class="string">&#x27;births&#x27;</span>,index =<span class="string">&#x27;year&#x27;</span>,columns=<span class="string">&#x27;name&#x27;</span>,aggfunc=<span class="built_in">sum</span>)</span><br><span class="line">total_births.info()</span><br></pre></td></tr></table></figure>
<pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
Int64Index: 13 entries, 2008 to 2020
Columns: 1244 entries, 가람 to 희찬
dtypes: float64(1244)
memory usage: 126.4 KB
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">subset = total_births[[<span class="string">&#x27;지후&#x27;</span>,<span class="string">&#x27;지희&#x27;</span>,<span class="string">&#x27;민석&#x27;</span>,<span class="string">&#x27;민호&#x27;</span>]]</span><br><span class="line">subset.plot(subplots=<span class="literal">True</span>,figsize=(<span class="number">12</span>,<span class="number">10</span>),grid=<span class="literal">False</span>,title=<span class="string">&#x27;Number of birth per year&#x27;</span>)</span><br></pre></td></tr></table></figure>



<pre><code>array([&lt;matplotlib.axes._subplots.AxesSubplot object at 0x000002C53443A880&gt;,
       &lt;matplotlib.axes._subplots.AxesSubplot object at 0x000002C5333875E0&gt;,
       &lt;matplotlib.axes._subplots.AxesSubplot object at 0x000002C5333A4820&gt;,
       &lt;matplotlib.axes._subplots.AxesSubplot object at 0x000002C5333CE9A0&gt;],
      dtype=object)
</code></pre>
<p><img src="/img/output_14_1.svg" alt="svg"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">plt.figure()</span><br><span class="line">table = top1000.pivot_table(<span class="string">&#x27;prop&#x27;</span>, index = <span class="string">&#x27;year&#x27;</span>,columns=<span class="string">&#x27;gender&#x27;</span>,aggfunc=<span class="built_in">sum</span>)</span><br><span class="line"></span><br><span class="line">table.plot(title=<span class="string">&#x27;Sum of table1000.prop by year and sex&#x27;</span>,</span><br><span class="line">           yticks=np.linspace(<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>), xticks=<span class="built_in">range</span>(<span class="number">2008</span>, <span class="number">2021</span>, <span class="number">10</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x2c5344e80d0&gt;




&lt;Figure size 432x288 with 0 Axes&gt;
</code></pre>
<p><img src="/img/output_15_2.svg" alt="svg"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df = boys[boys.year == <span class="number">2008</span>]</span><br><span class="line">df</span><br></pre></td></tr></table></figure>



<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>gender</th>
      <th>births</th>
      <th>year</th>
      <th>prop</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>500</th>
      <td>민준</td>
      <td>M</td>
      <td>2642</td>
      <td>2008</td>
      <td>0.015627</td>
    </tr>
    <tr>
      <th>501</th>
      <td>지훈</td>
      <td>M</td>
      <td>2154</td>
      <td>2008</td>
      <td>0.012741</td>
    </tr>
    <tr>
      <th>502</th>
      <td>현우</td>
      <td>M</td>
      <td>1924</td>
      <td>2008</td>
      <td>0.011380</td>
    </tr>
    <tr>
      <th>503</th>
      <td>준서</td>
      <td>M</td>
      <td>1885</td>
      <td>2008</td>
      <td>0.011150</td>
    </tr>
    <tr>
      <th>504</th>
      <td>우진</td>
      <td>M</td>
      <td>1815</td>
      <td>2008</td>
      <td>0.010736</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>995</th>
      <td>은율</td>
      <td>M</td>
      <td>91</td>
      <td>2008</td>
      <td>0.000538</td>
    </tr>
    <tr>
      <th>996</th>
      <td>재연</td>
      <td>M</td>
      <td>91</td>
      <td>2008</td>
      <td>0.000538</td>
    </tr>
    <tr>
      <th>997</th>
      <td>건민</td>
      <td>M</td>
      <td>91</td>
      <td>2008</td>
      <td>0.000538</td>
    </tr>
    <tr>
      <th>998</th>
      <td>민상</td>
      <td>M</td>
      <td>90</td>
      <td>2008</td>
      <td>0.000532</td>
    </tr>
    <tr>
      <th>999</th>
      <td>태진</td>
      <td>M</td>
      <td>90</td>
      <td>2008</td>
      <td>0.000532</td>
    </tr>
  </tbody>
</table>
<p>500 rows × 5 columns</p>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">prop_cumsum = df.sort_values(by=<span class="string">&#x27;prop&#x27;</span>,ascending=<span class="literal">False</span>).prop.cumsum()</span><br><span class="line">print(prop_cumsum[:<span class="number">10</span>])</span><br><span class="line">prop_cumsum.values.searchsorted(<span class="number">0.5</span>)+<span class="number">1</span></span><br></pre></td></tr></table></figure>
<pre><code>500    0.015627
501    0.028368
502    0.039748
503    0.050898
504    0.061634
505    0.071707
506    0.081757
507    0.091309
508    0.100673
509    0.109935
Name: prop, dtype: float64





90
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df = boys[boys.year == <span class="number">2018</span>]</span><br><span class="line">y2018 = df.sort_values(by=<span class="string">&#x27;prop&#x27;</span>,ascending=<span class="literal">False</span>).prop.cumsum()</span><br><span class="line">y2018.values.searchsorted(<span class="number">0.5</span>)+<span class="number">1</span></span><br></pre></td></tr></table></figure>



<pre><code>69
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_quantile_count</span>(<span class="params">group, q=<span class="number">0.5</span></span>):</span></span><br><span class="line">    group = group.sort_values(by=<span class="string">&#x27;prop&#x27;</span>, ascending=<span class="literal">False</span>)</span><br><span class="line">    <span class="keyword">return</span> group.prop.cumsum().values.searchsorted(q) + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">diversity = top1000.groupby([<span class="string">&#x27;year&#x27;</span>, <span class="string">&#x27;gender&#x27;</span>]).apply(get_quantile_count)</span><br><span class="line">diversity = diversity.unstack(<span class="string">&#x27;gender&#x27;</span>)</span><br><span class="line">fig = plt.figure()</span><br><span class="line">diversity.plot(title=<span class="string">&quot;Number of popular names in top 50%&quot;</span>)</span><br></pre></td></tr></table></figure>



<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x2c529ec57c0&gt;




&lt;Figure size 432x288 with 0 Axes&gt;
</code></pre>
<p><img src="/img/output_19_2.svg" alt="svg"></p>
<h3 id="마지막-글자의-변화"><a href="#마지막-글자의-변화" class="headerlink" title="마지막 글자의 변화"></a>마지막 글자의 변화</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">get_last_letter = <span class="keyword">lambda</span> x: x[-<span class="number">1</span>]</span><br><span class="line">last_letters = names.name.<span class="built_in">map</span>(get_last_letter)</span><br><span class="line">last_letters.name = <span class="string">&#x27;last_letter&#x27;</span></span><br><span class="line"></span><br><span class="line">table = names.pivot_table(<span class="string">&#x27;births&#x27;</span>, index=last_letters,columns=[<span class="string">&#x27;gender&#x27;</span>,<span class="string">&#x27;year&#x27;</span>],aggfunc=<span class="built_in">sum</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">subtable = table.reindex(columns=[<span class="number">2008</span>,<span class="number">2012</span>,<span class="number">2018</span>],level=<span class="string">&#x27;year&#x27;</span>)</span><br><span class="line">subtable</span><br></pre></td></tr></table></figure>



<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead tr th &#123;
    text-align: left;
&#125;

.dataframe thead tr:last-of-type th &#123;
    text-align: right;
&#125;
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th>gender</th>
      <th colspan="3" halign="left">F</th>
      <th colspan="3" halign="left">M</th>
    </tr>
    <tr>
      <th>year</th>
      <th>2008</th>
      <th>2012</th>
      <th>2018</th>
      <th>2008</th>
      <th>2012</th>
      <th>2018</th>
    </tr>
    <tr>
      <th>last_letter</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>강</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>106.0</td>
      <td>111.0</td>
      <td>74.0</td>
    </tr>
    <tr>
      <th>건</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1755.0</td>
      <td>2410.0</td>
      <td>1580.0</td>
    </tr>
    <tr>
      <th>검</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>114.0</td>
    </tr>
    <tr>
      <th>결</th>
      <td>184.0</td>
      <td>63.0</td>
      <td>NaN</td>
      <td>1159.0</td>
      <td>1199.0</td>
      <td>938.0</td>
    </tr>
    <tr>
      <th>겸</th>
      <td>NaN</td>
      <td>65.0</td>
      <td>54.0</td>
      <td>92.0</td>
      <td>NaN</td>
      <td>950.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>후</th>
      <td>616.0</td>
      <td>470.0</td>
      <td>95.0</td>
      <td>2049.0</td>
      <td>4636.0</td>
      <td>3863.0</td>
    </tr>
    <tr>
      <th>훈</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>7491.0</td>
      <td>6692.0</td>
      <td>2616.0</td>
    </tr>
    <tr>
      <th>훤</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>94.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>휘</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>285.0</td>
      <td>331.0</td>
      <td>71.0</td>
    </tr>
    <tr>
      <th>희</th>
      <td>6797.0</td>
      <td>6204.0</td>
      <td>3424.0</td>
      <td>2148.0</td>
      <td>2120.0</td>
      <td>1035.0</td>
    </tr>
  </tbody>
</table>
<p>128 rows × 6 columns</p>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">subtable.<span class="built_in">sum</span>()</span><br><span class="line">letter_prop = subtable / subtable.<span class="built_in">sum</span>()</span><br><span class="line">letter_prop</span><br></pre></td></tr></table></figure>



<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead tr th &#123;
    text-align: left;
&#125;

.dataframe thead tr:last-of-type th &#123;
    text-align: right;
&#125;
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th>gender</th>
      <th colspan="3" halign="left">F</th>
      <th colspan="3" halign="left">M</th>
    </tr>
    <tr>
      <th>year</th>
      <th>2008</th>
      <th>2012</th>
      <th>2018</th>
      <th>2008</th>
      <th>2012</th>
      <th>2018</th>
    </tr>
    <tr>
      <th>last_letter</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>강</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.000627</td>
      <td>0.000599</td>
      <td>0.000537</td>
    </tr>
    <tr>
      <th>건</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.010381</td>
      <td>0.012999</td>
      <td>0.011468</td>
    </tr>
    <tr>
      <th>검</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.000827</td>
    </tr>
    <tr>
      <th>결</th>
      <td>0.000962</td>
      <td>0.000309</td>
      <td>NaN</td>
      <td>0.006855</td>
      <td>0.006467</td>
      <td>0.006808</td>
    </tr>
    <tr>
      <th>겸</th>
      <td>NaN</td>
      <td>0.000319</td>
      <td>0.000373</td>
      <td>0.000544</td>
      <td>NaN</td>
      <td>0.006895</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>후</th>
      <td>0.003220</td>
      <td>0.002304</td>
      <td>0.000656</td>
      <td>0.012120</td>
      <td>0.025006</td>
      <td>0.028039</td>
    </tr>
    <tr>
      <th>훈</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.044309</td>
      <td>0.036095</td>
      <td>0.018988</td>
    </tr>
    <tr>
      <th>훤</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.000507</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>휘</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.001686</td>
      <td>0.001785</td>
      <td>0.000515</td>
    </tr>
    <tr>
      <th>희</th>
      <td>0.035534</td>
      <td>0.030408</td>
      <td>0.023644</td>
      <td>0.012705</td>
      <td>0.011435</td>
      <td>0.007512</td>
    </tr>
  </tbody>
</table>
<p>128 rows × 6 columns</p>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">fig, axes = plt.subplots(<span class="number">2</span>, <span class="number">1</span>, figsize=(<span class="number">30</span>, <span class="number">20</span>))</span><br><span class="line">letter_prop[<span class="string">&#x27;M&#x27;</span>].plot(kind=<span class="string">&#x27;bar&#x27;</span>, rot=<span class="number">0</span>, ax=axes[<span class="number">0</span>], title=<span class="string">&#x27;Male&#x27;</span>)</span><br><span class="line">letter_prop[<span class="string">&#x27;F&#x27;</span>].plot(kind=<span class="string">&#x27;bar&#x27;</span>, rot=<span class="number">0</span>, ax=axes[<span class="number">1</span>], title=<span class="string">&#x27;Female&#x27;</span>,</span><br><span class="line">                      legend=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>



<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x2c52fc2ad00&gt;
</code></pre>
<p><img src="/img/output_24_1.svg" alt="svg"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">letter_prop = table/table.<span class="built_in">sum</span>()</span><br><span class="line">dny_is = letter_prop.loc[[<span class="string">&#x27;민&#x27;</span>,<span class="string">&#x27;우&#x27;</span>,<span class="string">&#x27;준&#x27;</span>],<span class="string">&#x27;M&#x27;</span>].T</span><br><span class="line">dny_is.head()</span><br></pre></td></tr></table></figure>



<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>last_letter</th>
      <th>민</th>
      <th>우</th>
      <th>준</th>
    </tr>
    <tr>
      <th>year</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2008</th>
      <td>0.070548</td>
      <td>0.098378</td>
      <td>0.095745</td>
    </tr>
    <tr>
      <th>2009</th>
      <td>0.071303</td>
      <td>0.106945</td>
      <td>0.103008</td>
    </tr>
    <tr>
      <th>2010</th>
      <td>0.061610</td>
      <td>0.112214</td>
      <td>0.112383</td>
    </tr>
    <tr>
      <th>2011</th>
      <td>0.058171</td>
      <td>0.113082</td>
      <td>0.118197</td>
    </tr>
    <tr>
      <th>2012</th>
      <td>0.051883</td>
      <td>0.120518</td>
      <td>0.116748</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">plt.close()</span><br><span class="line">fig = plt.figure()</span><br><span class="line">dny_is.plot()</span><br></pre></td></tr></table></figure>



<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x2c52cd15be0&gt;




&lt;Figure size 432x288 with 0 Axes&gt;
</code></pre>
<p><img src="/img/output_26_2.svg" alt="svg"></p>
<h3 id="남자이름-gt-여자이름"><a href="#남자이름-gt-여자이름" class="headerlink" title="남자이름 -&gt; 여자이름"></a>남자이름 -&gt; 여자이름</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">all_names = pd.Series(top1000.name.unique())</span><br><span class="line">lesley_like = all_names[all_names.<span class="built_in">str</span>.lower().<span class="built_in">str</span>.contains(<span class="string">&#x27;진&#x27;</span>)]</span><br><span class="line">lesley_like</span><br></pre></td></tr></table></figure>



<pre><code>10      유진
13      예진
28      서진
53      수진
104     현진
127     혜진
154     은진
167     여진
172     하진
189     윤진
191     희진
199     진서
209     효진
210     아진
220     진아
283     민진
290     진영
293     진희
301      진
304     진주
306     연진
313     세진
359     미진
448     진경
454     소진
476     경진
499     우진
515     진우
598     성진
605     진호
614     진혁
624     호진
629     영진
660     진성
704     형진
707     진욱
712     상진
739     승진
745     진수
755     진석
770     동진
783     진현
790     진원
805     명진
835     규진
838     혁진
849     진형
851     범진
870     석진
881     태진
937     의진
939     원진
971     정진
1003    도진
1044    용진
1061    진후
1107    이진
1141    시진
dtype: object
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">filtered = top1000[top1000.name.isin(lesley_like)]</span><br><span class="line">filtered.groupby(<span class="string">&#x27;name&#x27;</span>).births.<span class="built_in">sum</span>()</span><br></pre></td></tr></table></figure>



<pre><code>name
경진       73
규진      766
도진     2327
동진      249
명진      484
미진      266
민진      843
범진      500
상진      393
서진    25862
석진       94
성진     2128
세진     2902
소진      265
수진     5855
승진      699
시진      393
아진     3121
여진     2291
연진      811
영진     1226
예진    13152
용진       91
우진    19024
원진       88
유진    17521
윤진     2297
은진     1725
의진      180
이진      473
정진      100
진      2401
진경       83
진서     4389
진석      375
진성     1296
진수      530
진아     2044
진영     2371
진우    10936
진욱     1713
진원     1060
진주      927
진혁     2628
진현      316
진형      301
진호     2879
진후      352
진희      853
태진       90
하진    10414
혁진      205
현진     6272
형진      671
혜진     2628
호진     2681
효진     1599
희진     1649
Name: births, dtype: int64
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">table = filtered.pivot_table(<span class="string">&#x27;births&#x27;</span>, index=<span class="string">&#x27;year&#x27;</span>,</span><br><span class="line">                             columns=<span class="string">&#x27;gender&#x27;</span>, aggfunc=<span class="string">&#x27;sum&#x27;</span>)</span><br><span class="line">table = table.div(table.<span class="built_in">sum</span>(<span class="number">1</span>), axis=<span class="number">0</span>)</span><br><span class="line">table.tail()</span><br></pre></td></tr></table></figure>



<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>gender</th>
      <th>F</th>
      <th>M</th>
    </tr>
    <tr>
      <th>year</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2016</th>
      <td>0.400176</td>
      <td>0.599824</td>
    </tr>
    <tr>
      <th>2017</th>
      <td>0.396162</td>
      <td>0.603838</td>
    </tr>
    <tr>
      <th>2018</th>
      <td>0.373367</td>
      <td>0.626633</td>
    </tr>
    <tr>
      <th>2019</th>
      <td>0.348980</td>
      <td>0.651020</td>
    </tr>
    <tr>
      <th>2020</th>
      <td>0.357599</td>
      <td>0.642401</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure()</span><br><span class="line">table.plot(style=&#123;<span class="string">&#x27;M&#x27;</span>: <span class="string">&#x27;k-&#x27;</span>, <span class="string">&#x27;F&#x27;</span>: <span class="string">&#x27;b--&#x27;</span>&#125;)</span><br></pre></td></tr></table></figure>



<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x2c52e70f880&gt;




&lt;Figure size 432x288 with 0 Axes&gt;
</code></pre>
<p><img src="/img/output_31_2.svg" alt="svg"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> IPython.core.display <span class="keyword">import</span> display, HTML</span><br><span class="line">display(HTML(<span class="string">&quot;&lt;style&gt;.container &#123;width:90% !important; &#125;&lt;/style&gt;&quot;</span>))</span><br></pre></td></tr></table></figure>

<style>.container {width:90% !important; }</style>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://j-jihee.github.io/2021/02/04/python_13_1/" data-id="ckkq9rd1y0000uovt1mgl3a3l" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2021/02/04/hello-world/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Hello World</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/02/04/python_13_1/">(no title)</a>
          </li>
        
          <li>
            <a href="/2021/02/04/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>